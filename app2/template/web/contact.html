        {% include "web/navbar.html" %}         
    <!-- Bootstrap 5 -->
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #667eea;
            --primary-dark: #5a67d8;
            --secondary-color: #764ba2;
            --accent-color: #f093fb;
            --success-color: #43e97b;
            --warning-color: #f6ad55;
            --danger-color: #f5576c;
            --light-color: #f8f9fa;
            --dark-color: #2d3748;
        }
    
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: var(--light-color);
            color: var(--dark-color);
            line-height: 1.6;
        }
        
        .contact-page {
            min-height: 100vh;
        }
        /* Contact Section */
        .contact-section {
            padding: 80px 0;
        }
        .section-title {
            text-align: center;
            margin-bottom: 50px;
        }
        .section-title h2 {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--dark-color);
            margin-bottom: 1rem;
        }
        
        .section-title p {
            color: #666;
            max-width: 600px;
            margin: 0 auto;
        }
        
        /* Contact Cards */
        .contact-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            height: 25%;
            border: 1px solid #eee;
            margin-bottom: 30px;
        }
        
        .contact-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        .contact-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            color: white;
            font-size: 30px;
        }
        
        /* Forms */
        .form-container {
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
        }
        
        .form-label {
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .form-control, .form-select {
            padding: 12px 15px;
            border: 1px solid #dee2e6;
            border-radius: 10px;
            transition: all 0.3s ease;
        }
        
        .form-control:focus, .form-select:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        /* Order Form Specific */
        .order-form-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 30px;
        }
        
        .menu-category {
            margin-bottom: 30px;
        }
        
        .menu-item-checkbox {
            display: flex;
            align-items: center;
            padding: 10px;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            margin-bottom: 10px;
            background: white;
            transition: all 0.3s ease;
        }
        
        .menu-item-checkbox:hover {
            border-color: var(--primary-color);
            background: rgba(102, 126, 234, 0.05);
        }
        
        .menu-item-checkbox input[type="checkbox"] {
            margin-right: 15px;
            width: 20px;
            height: 20px;
        }
        
        .menu-item-info {
            flex: 1;
        }
        
        .menu-item-price {
            font-weight: 600;
            color: var(--primary-color);
            margin-left: 15px;
        }
        
        .quantity-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .quantity-btn {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: 1px solid #dee2e6;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
        
        .quantity-input {
            width: 50px;
            text-align: center;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 5px;
        }
        
        /* Order Summary */
        .order-summary {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            position: sticky;
            top: 100px;
        }
        
        .order-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }
        
        .order-total {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--primary-color);
        }
        
        /* Confirmation Modal */
        .confirmation-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }
        
        .confirmation-content {
            background: white;
            border-radius: 15px;
            padding: 40px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        /* Login/Register Modal */
        .auth-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }
        
        .auth-content {
            background: white;
            border-radius: 15px;
            padding: 40px;
            max-width: 400px;
            width: 90%;
        }
        
        .auth-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
        }
        
        .auth-tab {
            flex: 1;
            padding: 10px;
            text-align: center;
            border: none;
            background: #f8f9fa;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
        }
        
        .auth-tab.active {
            background: var(--primary-color);
            color: white;
        }
        
        
    </style>

  
        </div>
    </header>
    <!-- Contact Page -->
    <div class="contact-page">
      

        <!-- Hero Section -->
        <section class="hero-section">
            <div class="container">
                <div class="hero-content text-center">
                    <h1>Contact Us & Place Order</h1>
                    <p>Get in touch with us or place your food order online</p>
                </div>
            </div>
        </section>

        <!-- Contact & Order Section -->
        <section class="contact-section">
            <div class="container bg-light">
                <div class="section-title">
                    <h2>Get In Touch</h2>
                    <p>Contact us for any queries or place your food order directly</p>
                </div>
                
                <!-- Login/Signup Button -->
                <div class="text-center mb-5">
                    <div class="alert alert-info d-inline-flex align-items-center" role="alert">
                        <i class="fas fa-info-circle me-2"></i>
                        <div>
                            <strong>Want to track your orders?</strong> 
                            <button class="btn btn-link p-0 ms-2" onclick="showLoginModal()">Login or Signup</button>
                        </div>
                    </div>
                </div>

                <div class="row" >
                    <!-- Contact Information -->
                    <div class="col-lg-4">
                        <div class="contact-card">
                            <div class="contact-icon">
                                <i class="fas fa-map-marker-alt"></i>
                            </div>
                            <h4>Our Location</h4>
                            <p>123 Restaurant Street<br>Mumbai, Maharashtra 400001</p>
                        </div>
                        
                        <div class="contact-card">
                            <div class="contact-icon">
                                <i class="fas fa-phone"></i>
                            </div>
                            <h4>Phone Number</h4>
                            <p>+91 9876543210<br>+91 9876543211</p>
                            <p class="text-muted">10:00 AM - 11:00 PM</p>
                        </div>

                        <div class="contact-card">
                            <div class="contact-icon">
                                <i class="fas fa-envelope"></i>
                            </div>
                            <h4>Email Address</h4>
                            <p>info@culinaryspot.com<br>support@culinaryspot.com</p>
                        </div>
                         <div class="col bg-transparent" ;>
<iframe style="border:3px solid black; width: 100%; height: 380px; float: right; margin-bottom: 50px;" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3775.9633048094415!2d74.86929647372976!3d18.8442993592084!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bc3559e8d83b821%3A0x7540cf2627f8bd45!2z4KS54KWJ4KSf4KWH4KSyIOCkuOCljeCkteCksOCkvuCksuClgCDgpKvgpYjgpK7gpL_gpLLgpYAg4KSw4KWH4KS44KWN4KSf4KWJ4KSw4KSC4KSf!5e0!3m2!1smr!2sin!4v1768129040568!5m2!1smr!2sin" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
</div>
                    </div>

                    <!-- Order Form -->
                    <div class="col-lg-8">
                        <div class="form-container">
                            <h3 class="mb-4">Place Your Order</h3>
                            
                            <!-- Customer Information -->
                            <div class="order-form-section">
                                <h5 class="mb-3">1. Customer Information</h5>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Full Name *</label>
                                        <input type="text" class="form-control" id="customerName" placeholder="Enter your full name" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Mobile Number *</label>
                                        <input type="tel" class="form-control" id="mobileNumber" placeholder="Enter 10-digit mobile number" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Email Address</label>
                                        <input type="email" class="form-control" id="emailAddress" placeholder="Enter your email">
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Delivery Address *</label>
                                        <input type="text" class="form-control" id="deliveryAddress" placeholder="Enter delivery address" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Order Type</label>
                                        <select class="form-select" id="orderType">
                                            <option value="delivery">Home Delivery</option>
                                            <option value="pickup">Pickup</option>
                                            <option value="dine-in">Dine-in</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Preferred Time</label>
                                        <input type="time" class="form-control" id="preferredTime">
                                    </div>
                                </div>
                            </div>

                            <!-- Menu Selection -->
                            <div class="order-form-section">
                                <h5 class="mb-3">2. Select Menu Items</h5>
                                
                                <!-- Breakfast & Starters -->
                                <div class="menu-category">
                                    <h6 class="mb-3">Breakfast & Starters</h6>
                                    <div class="menu-item-checkbox">
                                        <input type="checkbox" id="item1" data-price="120" data-category="breakfast">
                                        <div class="menu-item-info">
                                            <label for="item1" style="cursor: pointer;">
                                                <strong>Masala Dosa</strong>
                                                <p class="text-muted mb-0">Crispy rice crepe with potato filling</p>
                                            </label>
                                        </div>
                                        <span class="menu-item-price">₹120</span>
                                        <div class="quantity-control ms-3">
                                            <button class="quantity-btn" onclick="decreaseQuantity('item1')">-</button>
                                            <input type="number" class="quantity-input" id="qty-item1" value="0" min="0" readonly>
                                            <button class="quantity-btn" onclick="increaseQuantity('item1')">+</button>
                                        </div>
                                    </div>
                                    
                                    <div class="menu-item-checkbox">
                                        <input type="checkbox" id="item2" data-price="150" data-category="breakfast">
                                        <div class="menu-item-info">
                                            <label for="item2" style="cursor: pointer;">
                                                <strong>Poha</strong>
                                                <p class="text-muted mb-0">Flattened rice with vegetables and spices</p>
                                            </label>
                                        </div>
                                        <span class="menu-item-price">₹150</span>
                                        <div class="quantity-control ms-3">
                                            <button class="quantity-btn" onclick="decreaseQuantity('item2')">-</button>
                                            <input type="number" class="quantity-input" id="qty-item2" value="0" min="0" readonly>
                                            <button class="quantity-btn" onclick="increaseQuantity('item2')">+</button>
                                        </div>
                                    </div>
                                </div>

                                <!-- Main Course -->
                                <div class="menu-category">
                                    <h6 class="mb-3">Main Course</h6>
                                    <div class="menu-item-checkbox">
                                        <input type="checkbox" id="item3" data-price="299" data-category="main">
                                        <div class="menu-item-info">
                                            <label for="item3" style="cursor: pointer;">
                                                <strong>Butter Chicken</strong>
                                                <p class="text-muted mb-0">Creamy tomato curry with tender chicken</p>
                                            </label>
                                        </div>
                                        <span class="menu-item-price">₹299</span>
                                        <div class="quantity-control ms-3">
                                            <button class="quantity-btn" onclick="decreaseQuantity('item3')">-</button>
                                            <input type="number" class="quantity-input" id="qty-item3" value="0" min="0" readonly>
                                            <button class="quantity-btn" onclick="increaseQuantity('item3')">+</button>
                                        </div>
                                    </div>
                                    
                                    <div class="menu-item-checkbox">
                                        <input type="checkbox" id="item4" data-price="249" data-category="main">
                                        <div class="menu-item-info">
                                            <label for="item4" style="cursor: pointer;">
                                                <strong>Paneer Butter Masala</strong>
                                                <p class="text-muted mb-0">Cottage cheese in rich tomato gravy</p>
                                            </label>
                                        </div>
                                        <span class="menu-item-price">₹249</span>
                                        <div class="quantity-control ms-3">
                                            <button class="quantity-btn" onclick="decreaseQuantity('item4')">-</button>
                                            <input type="number" class="quantity-input" id="qty-item4" value="0" min="0" readonly>
                                            <button class="quantity-btn" onclick="increaseQuantity('item4')">+</button>
                                        </div>
                                    </div>
                                </div>

                                <!-- Desserts -->
                                <div class="menu-category">
                                    <h6 class="mb-3">Desserts</h6>
                                    <div class="menu-item-checkbox">
                                        <input type="checkbox" id="item5" data-price="99" data-category="dessert">
                                        <div class="menu-item-info">
                                            <label for="item5" style="cursor: pointer;">
                                                <strong>Gulab Jamun</strong>
                                                <p class="text-muted mb-0">Sweet milk dumplings in sugar syrup</p>
                                            </label>
                                        </div>
                                        <span class="menu-item-price">₹99</span>
                                        <div class="quantity-control ms-3">
                                            <button class="quantity-btn" onclick="decreaseQuantity('item5')">-</button>
                                            <input type="number" class="quantity-input" id="qty-item5" value="0" min="0" readonly>
                                            <button class="quantity-btn" onclick="increaseQuantity('item5')">+</button>
                                        </div>
                                    </div>
                                    
                                    <div class="menu-item-checkbox">
                                        <input type="checkbox" id="item6" data-price="159" data-category="dessert">
                                        <div class="menu-item-info">
                                            <label for="item6" style="cursor: pointer;">
                                                <strong>Chocolate Brownie</strong>
                                                <p class="text-muted mb-0">Warm brownie with ice cream</p>
                                            </label>
                                        </div>
                                        <span class="menu-item-price">₹159</span>
                                        <div class="quantity-control ms-3">
                                            <button class="quantity-btn" onclick="decreaseQuantity('item6')">-</button>
                                            <input type="number" class="quantity-input" id="qty-item6" value="0" min="0" readonly>
                                            <button class="quantity-btn" onclick="increaseQuantity('item6')">+</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Order Summary & Payment -->
                            <div class="order-form-section">
                                <h5 class="mb-3">3. Order Summary & Payment</h5>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="order-summary">
                                            <h6 class="mb-3">Order Summary</h6>
                                            <div id="orderItems">
                                                <p class="text-muted">No items selected</p>
                                            </div>
                                            <hr>
                                            <div class="order-item">
                                                <span>Subtotal:</span>
                                                <span id="subtotalAmount">₹0</span>
                                            </div>
                                            <div class="order-item">
                                                <span>Delivery Charge:</span>
                                                <span id="deliveryChargeAmount">₹40</span>
                                            </div>
                                            <div class="order-item">
                                                <span>Tax (5%):</span>
                                                <span id="taxAmount">₹0</span>
                                            </div>
                                            <div class="order-item">
                                                <span>Total:</span>
                                                <span class="order-total" id="totalAmount">₹0</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label class="form-label">Special Instructions</label>
                                            <textarea class="form-control" id="specialInstructions" rows="3" placeholder="Any special instructions for your order..."></textarea>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">Payment Method</label>
                                            <select class="form-select" id="paymentMethod">
                                                <option value="cod">Cash on Delivery</option>
                                                <option value="online">Online Payment</option>
                                                <option value="card">Card Payment</option>
                                            </select>
                                        </div>
                                        <div class="form-check mb-3">
                                            <input class="form-check-input" type="checkbox" id="saveInfo">
                                            <label class="form-check-label" for="saveInfo">
                                                Save my information for future orders
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Submit Button -->
                            <div class="text-center mt-4">
                                <button class="btn btn-primary btn-lg px-5" onclick="submitOrder()">
                                    <i class="fas fa-paper-plane me-2"></i>Place Order
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
      

    <!-- Login/Register Modal -->
    <div class="auth-modal" id="authModal">
        <div class="auth-content">
            <div class="auth-tabs">
                <button class="auth-tab active" onclick="switchAuthTab('login')">Login</button>
                <button class="auth-tab" onclick="switchAuthTab('register')">Register</button>
            </div>
            
            <!-- Login Form -->
            <div id="loginForm" class="auth-form">
                <h4 class="mb-4">Login to Your Account</h4>
                <div class="mb-3">
                    <label class="form-label">Email or Mobile Number</label>
                    <input type="text" class="form-control" id="loginIdentifier" placeholder="Enter email or mobile">
                </div>
                <div class="mb-3">
                    <label class="form-label">Password</label>
                    <input type="password" class="form-control" id="loginPassword" placeholder="Enter password">
                </div>
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="rememberMe">
                        <label class="form-check-label" for="rememberMe">Remember me</label>
                    </div>
                    <a href="#" class="text-primary">Forgot password?</a>
                </div>
                <button class="btn btn-primary w-100 mb-3" onclick="login()">Login</button>
                <div class="text-center">
                    <p class="text-muted">Don't have an account? <a href="#" onclick="switchAuthTab('register')" class="text-primary">Sign up</a></p>
                </div>
            </div>
            
            <!-- Register Form -->
            <div id="registerForm" class="auth-form" style="display: none;">
                <h4 class="mb-4">Create New Account</h4>
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label class="form-label">First Name</label>
                        <input type="text" class="form-control" id="firstName" placeholder="First name">
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Last Name</label>
                        <input type="text" class="form-control" id="lastName" placeholder="Last name">
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label">Mobile Number</label>
                    <input type="tel" class="form-control" id="registerMobile" placeholder="10-digit mobile number">
                </div>
                <div class="mb-3">
                    <label class="form-label">Email Address</label>
                    <input type="email" class="form-control" id="registerEmail" placeholder="Enter email">
                </div>
                <div class="mb-3">
                    <label class="form-label">Password</label>
                    <input type="password" class="form-control" id="registerPassword" placeholder="Create password">
                </div>
                <div class="mb-4">
                    <label class="form-label">Confirm Password</label>
                    <input type="password" class="form-control" id="confirmPassword" placeholder="Confirm password">
                </div>
                <button class="btn btn-primary w-100 mb-3" onclick="register()">Create Account</button>
                <div class="text-center">
                    <p class="text-muted">Already have an account? <a href="#" onclick="switchAuthTab('login')" class="text-primary">Login</a></p>
                </div>
            </div>
            
            <button class="btn btn-link w-100 mt-3" onclick="closeAuthModal()">Close</button>
        </div>
    </div>

    <!-- Order Confirmation Modal -->
    <div class="confirmation-modal" id="confirmationModal">
        <div class="confirmation-content">
            <div class="text-center mb-4">
                <i class="fas fa-check-circle text-success fa-4x mb-3"></i>
                <h3>Order Confirmed!</h3>
                <p class="text-muted">Your order has been placed successfully</p>
            </div>
            
            <div class="mb-4">
                <h5>Order Details</h5>
                <div id="confirmationDetails">
                    <!-- Order details will be inserted here -->
                </div>
            </div>
            
            <div class="alert alert-info">
                <i class="fas fa-info-circle me-2"></i>
                Order confirmation has been sent to your email and mobile number.
            </div>
            
            <div class="text-center mt-4">
                <button class="btn btn-primary me-3" onclick="printOrder()">
                    <i class="fas fa-print me-2"></i>Print Receipt
                </button>
                <button class="btn btn-outline-primary" onclick="closeConfirmationModal()">
                    <i class="fas fa-times me-2"></i>Close
                </button>
            </div>
        </div>
    </div>


    <!-- Bootstrap Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // ====================
        // GLOBAL VARIABLES
        // ====================
        let currentOrder = {
            items: [],
            customerInfo: {},
            orderId: null,
            total: 0
        };

        // ====================
        // ORDER FUNCTIONS
        // ====================
        function increaseQuantity(itemId) {
            const checkbox = document.getElementById(itemId);
            const quantityInput = document.getElementById(`qty-${itemId}`);
            let quantity = parseInt(quantityInput.value);
            
            quantity++;
            quantityInput.value = quantity;
            
            if (quantity > 0) {
                checkbox.checked = true;
            }
            
            updateOrderSummary();
        }

        function decreaseQuantity(itemId) {
            const checkbox = document.getElementById(itemId);
            const quantityInput = document.getElementById(`qty-${itemId}`);
            let quantity = parseInt(quantityInput.value);
            
            if (quantity > 0) {
                quantity--;
                quantityInput.value = quantity;
                
                if (quantity === 0) {
                    checkbox.checked = false;
                }
            }
            
            updateOrderSummary();
        }

        function updateOrderSummary() {
            let subtotal = 0;
            let itemsHtml = '';
            let hasItems = false;
            
            // Check all menu items
            for (let i = 1; i <= 6; i++) {
                const checkbox = document.getElementById(`item${i}`);
                const quantityInput = document.getElementById(`qty-item${i}`);
                const quantity = parseInt(quantityInput.value);
                
                if (checkbox.checked && quantity > 0) {
                    hasItems = true;
                    const price = parseFloat(checkbox.dataset.price);
                    const itemTotal = price * quantity;
                    subtotal += itemTotal;
                    
                    const itemName = checkbox.nextElementSibling.querySelector('strong').textContent;
                    itemsHtml += `
                        <div class="order-item">
                            <span>${itemName} x ${quantity}</span>
                            <span>₹${itemTotal}</span>
                        </div>
                    `;
                }
            }
            
            const deliveryCharge = subtotal > 0 ? 40 : 0;
            const tax = subtotal * 0.05;
            const total = subtotal + deliveryCharge + tax;
            
            // Update display
            document.getElementById('orderItems').innerHTML = hasItems ? itemsHtml : '<p class="text-muted">No items selected</p>';
            document.getElementById('subtotalAmount').textContent = `₹${subtotal}`;
            document.getElementById('deliveryChargeAmount').textContent = `₹${deliveryCharge}`;
            document.getElementById('taxAmount').textContent = `₹${tax.toFixed(2)}`;
            document.getElementById('totalAmount').textContent = `₹${total.toFixed(2)}`;
            
            // Update current order
            currentOrder.total = total;
        }

        function validateOrder() {
            const name = document.getElementById('customerName').value.trim();
            const mobile = document.getElementById('mobileNumber').value.trim();
            const address = document.getElementById('deliveryAddress').value.trim();
            
            // Basic validation
            if (!name) {
                alert('Please enter your name');
                return false;
            }
            
            if (!mobile || !/^\d{10}$/.test(mobile)) {
                alert('Please enter a valid 10-digit mobile number');
                return false;
            }
            
            if (!address) {
                alert('Please enter delivery address');
                return false;
            }
            
            // Check if any items selected
            let hasItems = false;
            for (let i = 1; i <= 6; i++) {
                const checkbox = document.getElementById(`item${i}`);
                const quantityInput = document.getElementById(`qty-item${i}`);
                if (checkbox.checked && parseInt(quantityInput.value) > 0) {
                    hasItems = true;
                    break;
                }
            }
            
            if (!hasItems) {
                alert('Please select at least one menu item');
                return false;
            }
            
            return true;
        }

        function submitOrder() {
            if (!validateOrder()) {
                return;
            }
            
            // Collect order data
            const orderData = {
                orderId: 'ORD' + Date.now().toString().slice(-6),
                customerName: document.getElementById('customerName').value,
                mobileNumber: document.getElementById('mobileNumber').value,
                emailAddress: document.getElementById('emailAddress').value || '',
                deliveryAddress: document.getElementById('deliveryAddress').value,
                orderType: document.getElementById('orderType').value,
                preferredTime: document.getElementById('preferredTime').value || 'ASAP',
                paymentMethod: document.getElementById('paymentMethod').value,
                specialInstructions: document.getElementById('specialInstructions').value || 'None',
                items: [],
                subtotal: parseFloat(document.getElementById('subtotalAmount').textContent.replace('₹', '')),
                deliveryCharge: parseFloat(document.getElementById('deliveryChargeAmount').textContent.replace('₹', '')),
                tax: parseFloat(document.getElementById('taxAmount').textContent.replace('₹', '')),
                total: parseFloat(document.getElementById('totalAmount').textContent.replace('₹', '')),
                date: new Date().toLocaleString(),
                status: 'pending'
            };
            
            // Collect selected items
            for (let i = 1; i <= 6; i++) {
                const checkbox = document.getElementById(`item${i}`);
                const quantityInput = document.getElementById(`qty-item${i}`);
                const quantity = parseInt(quantityInput.value);
                
                if (checkbox.checked && quantity > 0) {
                    const itemName = checkbox.nextElementSibling.querySelector('strong').textContent;
                    const price = parseFloat(checkbox.dataset.price);
                    
                    orderData.items.push({
                        name: itemName,
                        quantity: quantity,
                        price: price,
                        total: price * quantity
                    });
                }
            }
            
            // Save to localStorage (simulating database)
            saveOrderToLocalStorage(orderData);
            
            // Save to admin view
            saveToAdminPanel(orderData);
            
            // Show confirmation
            showOrderConfirmation(orderData);
        }

        function saveOrderToLocalStorage(order) {
            let orders = JSON.parse(localStorage.getItem('customer_orders') || '[]');
            orders.push(order);
            localStorage.setItem('customer_orders', JSON.stringify(orders));
            
            // Save customer info if checkbox is checked
            if (document.getElementById('saveInfo').checked) {
                const customerInfo = {
                    name: order.customerName,
                    mobile: order.mobileNumber,
                    email: order.emailAddress,
                    address: order.deliveryAddress
                };
                localStorage.setItem('customer_info', JSON.stringify(customerInfo));
            }
        }

        function saveToAdminPanel(order) {
            // This would typically go to a backend API
            // For demo, we'll save to localStorage for admin viewing
            let adminOrders = JSON.parse(localStorage.getItem('admin_orders') || '[]');
            adminOrders.push(order);
            localStorage.setItem('admin_orders', JSON.stringify(adminOrders));
            
            // Also save to a separate file that admin can view
            console.log('Order sent to admin:', order);
        }

        function showOrderConfirmation(order) {
            // Build confirmation details
            let itemsHtml = '';
            order.items.forEach(item => {
                itemsHtml += `<div>${item.name} x ${item.quantity} = ₹${item.total}</div>`;
            });
            
            const confirmationHtml = `
                <p><strong>Order ID:</strong> ${order.orderId}</p>
                <p><strong>Customer:</strong> ${order.customerName}</p>
                <p><strong>Mobile:</strong> ${order.mobileNumber}</p>
                <p><strong>Delivery Address:</strong> ${order.deliveryAddress}</p>
                <p><strong>Order Type:</strong> ${order.orderType}</p>
                <p><strong>Payment Method:</strong> ${order.paymentMethod}</p>
                <hr>
                <p><strong>Items Ordered:</strong></p>
                ${itemsHtml}
                <hr>
                <p><strong>Subtotal:</strong> ₹${order.subtotal}</p>
                <p><strong>Delivery Charge:</strong> ₹${order.deliveryCharge}</p>
                <p><strong>Tax:</strong> ₹${order.tax}</p>
                <p><strong>Total Amount:</strong> ₹${order.total}</p>
                <p><strong>Estimated Delivery:</strong> 30-45 minutes</p>
            `;
            
            document.getElementById('confirmationDetails').innerHTML = confirmationHtml;
            document.getElementById('confirmationModal').style.display = 'flex';
            
            // Send SMS and Email notification (simulated)
            sendNotifications(order);
        }

        function sendNotifications(order) {
            // Simulate sending SMS
            console.log(`SMS sent to ${order.mobileNumber}: Your order ${order.orderId} has been confirmed. Total: ₹${order.total}`);
            
            // Simulate sending email
            if (order.emailAddress) {
                console.log(`Email sent to ${order.emailAddress}: Order confirmation for order ${order.orderId}`);
            }
            
            // Send to admin
            console.log(`Admin notification: New order ${order.orderId} from ${order.customerName}`);
        }

        function printOrder() {
            const printContent = document.getElementById('confirmationDetails').innerHTML;
            const originalContent = document.body.innerHTML;
            
            document.body.innerHTML = `
                <html>
                    <head>
                        <title>Order Receipt - ${currentOrder.orderId}</title>
                        <style>
                            body { font-family: Arial, sans-serif; padding: 20px; }
                            h1 { color: #333; }
                            .receipt { border: 1px solid #ccc; padding: 20px; }
                        </style>
                    </head>
                    <body>
                        <div class="receipt">
                            <h2>CulinarySpot</h2>
                            <h3>Order Receipt</h3>
                            ${printContent}
                            <p>Thank you for your order!</p>
                        </div>
                    </body>
                </html>
            `;
            
            window.print();
            document.body.innerHTML = originalContent;
            location.reload();
        }

  
        // AUTHENTICATION FUNCTIONS

        function showLoginModal(e) {
            if (e) e.preventDefault();
            document.getElementById('authModal').style.display = 'flex';
            switchAuthTab('login');
        }

        function closeAuthModal() {
            document.getElementById('authModal').style.display = 'none';
        }

        function switchAuthTab(tab) {
            // Update tabs
            document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            
            // Show selected form
            document.getElementById('loginForm').style.display = tab === 'login' ? 'block' : 'none';
            document.getElementById('registerForm').style.display = tab === 'register' ? 'block' : 'none';
        }

        function login() {
            const identifier = document.getElementById('loginIdentifier').value;
            const password = document.getElementById('loginPassword').value;
            
            if (!identifier || !password) {
                alert('Please enter both email/mobile and password');
                return;
            }
            
            // Simulate login
            localStorage.setItem('isLoggedIn', 'true');
            localStorage.setItem('userIdentifier', identifier);
            
            alert('Login successful!');
            closeAuthModal();
            
            // Update UI
            updateLoginStatus();
        }

        function register() {
            const firstName = document.getElementById('firstName').value;
            const lastName = document.getElementById('lastName').value;
            const mobile = document.getElementById('registerMobile').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            // Validation
            if (!firstName || !lastName || !mobile || !email || !password) {
                alert('Please fill all required fields');
                return;
            }
            
            if (!/^\d{10}$/.test(mobile)) {
                alert('Please enter a valid 10-digit mobile number');
                return;
            }
            
            if (password !== confirmPassword) {
                alert('Passwords do not match');
                return;
            }
            
            if (password.length < 6) {
                alert('Password must be at least 6 characters long');
                return;
            }
            
            // Save user data (in real app, this would go to backend)
            const userData = {
                firstName,
                lastName,
                mobile,
                email,
                password, // In real app, this should be hashed
                registrationDate: new Date().toISOString()
            };
            
            let users = JSON.parse(localStorage.getItem('registered_users') || '[]');
            users.push(userData);
            localStorage.setItem('registered_users', JSON.stringify(users));
            
            // Auto login
            localStorage.setItem('isLoggedIn', 'true');
            localStorage.setItem('userIdentifier', email);
            
            alert('Registration successful! You are now logged in.');
            closeAuthModal();
            
            // Update UI
            updateLoginStatus();
        }

        function updateLoginStatus() {
            const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
            if (isLoggedIn) {
                const userIdentifier = localStorage.getItem('userIdentifier');
                document.querySelector('.navbar-nav .nav-link[onclick]').innerHTML = `
                    <i class="fas fa-user me-2"></i>My Account
                `;
                
                // Load saved customer info
                loadSavedCustomerInfo();
            }
        }

        function loadSavedCustomerInfo() {
            const customerInfo = JSON.parse(localStorage.getItem('customer_info'));
            if (customerInfo) {
                document.getElementById('customerName').value = customerInfo.name || '';
                document.getElementById('mobileNumber').value = customerInfo.mobile || '';
                document.getElementById('emailAddress').value = customerInfo.email || '';
                document.getElementById('deliveryAddress').value = customerInfo.address || '';
            }
        }

        function closeConfirmationModal() {
            document.getElementById('confirmationModal').style.display = 'none';
            
            // Reset form
            document.querySelectorAll('input[type="checkbox"]').forEach(cb => {
                cb.checked = false;
            });
            document.querySelectorAll('.quantity-input').forEach(input => {
                input.value = 0;
            });
            document.getElementById('customerName').value = '';
            document.getElementById('mobileNumber').value = '';
            document.getElementById('emailAddress').value = '';
            document.getElementById('deliveryAddress').value = '';
            document.getElementById('specialInstructions').value = '';
            
            updateOrderSummary();
        }

        // ====================
        // INITIALIZATION
        // ====================
        document.addEventListener('DOMContentLoaded', function() {
            // Load saved customer info
            loadSavedCustomerInfo();
            
            // Update login status
            updateLoginStatus();
            
            // Set minimum time for preferred time
            const now = new Date();
            const timeInput = document.getElementById('preferredTime');
            timeInput.min = now.toTimeString().slice(0,5);
            
            // Load saved orders for admin (demo purpose)
            loadSampleOrders();
        });

        function loadSampleOrders() {
            // Create some sample orders for admin panel demo
            const sampleOrders = [
                {
                    orderId: 'ORD001',
                    customerName: 'John Doe',
                    mobileNumber: '9876543210',
                    deliveryAddress: '123 Main St',
                    items: [{name: 'Butter Chicken', quantity: 2, price: 299}],
                    total: 598,
                    status: 'pending',
                    date: new Date().toLocaleString()
                }
            ];
            
            if (!localStorage.getItem('admin_orders')) {
                localStorage.setItem('admin_orders', JSON.stringify(sampleOrders));
            }
        }

        // ====================
        // EVENT LISTENERS
        // ====================
        document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                const quantityInput = document.getElementById(`qty-${this.id}`);
                if (!this.checked) {
                    quantityInput.value = 0;
                }
                updateOrderSummary();
            });
        });

        document.querySelectorAll('.quantity-input').forEach(input => {
            input.addEventListener('change', updateOrderSummary);
        });
    </script>
    

 {% include "web/footer.html" %}
 </body>
</html>