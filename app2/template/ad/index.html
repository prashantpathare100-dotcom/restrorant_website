<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CulinarySpot - Restaurant Management</title>
    
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        :root {
            --primary-color: #667eea;
            --primary-dark: #5a67d8;
            --secondary-color: #764ba2;
            --accent-color: #f093fb;
            --success-color: #43e97b;
            --warning-color: #f6ad55;
            --danger-color: #f5576c;
            --light-color: #f8f9fa;
            --dark-color: #2d3748;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--light-color);
            color: var(--dark-color);
        }
        
        /* Login Page Styles */
        .login-page {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .login-container {
            width: 100%;
            max-width: 400px;
        }
        
        .login-card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .logo {
            margin-bottom: 30px;
        }
        
        .logo h2 {
            color: var(--primary-color);
            font-weight: 700;
        }
        
        .logo p {
            color: #666;
            font-size: 14px;
        }
        
        .form-control {
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #eee;
            transition: all 0.3s ease;
        }
        
        .form-control:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .btn-login {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 10px;
            font-weight: 600;
            width: 100%;
            transition: all 0.3s ease;
            margin-top: 10px;
        }
        
        .btn-login:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }
        
        .error-message {
            color: var(--danger-color);
            font-size: 14px;
            margin-top: 10px;
            display: none;
        }
        
        /* Dashboard Styles - Hidden Initially */
        .dashboard {
            display: none;
            width: 100%;
            min-height: 100vh;
            background: #f5f7fb;
        }
        
        /* Sidebar */
        .sidebar {
            background: white;
            height: 100vh;
            position: fixed;
            left: 0;
            top: 0;
            width: 260px;
            box-shadow: 5px 0 20px rgba(0,0,0,0.1);
            z-index: 1000;
            transition: all 0.3s ease;
        }
        
        .sidebar-header {
            padding: 25px 20px;
            text-align: center;
            border-bottom: 1px solid #eee;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .sidebar-header h3 {
            margin: 0;
            font-weight: 700;
            font-size: 1.5rem;
        }
        
        .sidebar-header p {
            opacity: 0.9;
            margin: 5px 0 0;
            font-size: 0.9rem;
        }
        
        .sidebar-menu {
            padding: 20px 0;
            height: calc(100vh - 120px);
            overflow-y: auto;
        }
        
        .sidebar-menu a {
            display: flex;
            align-items: center;
            padding: 12px 25px;
            color: #333;
            text-decoration: none;
            transition: all 0.3s ease;
            border-left: 4px solid transparent;
            margin: 5px 0;
            position: relative;
        }
        
        .sidebar-menu a:hover,
        .sidebar-menu a.active {
            background: rgba(102, 126, 234, 0.1);
            color: var(--primary-color);
            border-left: 4px solid var(--primary-color);
        }
        
        .sidebar-menu i {
            width: 25px;
            margin-right: 15px;
            font-size: 18px;
        }
        
        .menu-badge {
            position: absolute;
            right: 20px;
            background: var(--primary-color);
            color: white;
            border-radius: 10px;
            padding: 2px 8px;
            font-size: 11px;
            font-weight: 600;
        }
        
        /* Main Content */
        .main-content {
            margin-left: 260px;
            padding: 20px;
            min-height: 100vh;
            transition: all 0.3s ease;
        }
        
        /* Top Bar */
        .top-bar {
            background: white;
            padding: 15px 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .search-box {
            position: relative;
            width: 300px;
        }
        
        .search-box input {
            padding: 10px 15px 10px 40px;
            border-radius: 50px;
            border: 1px solid #dee2e6;
            width: 100%;
        }
        
        .search-box i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #6c757d;
        }
        
        .user-profile {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .user-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 18px;
        }
        
        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            display: flex;
            align-items: center;
            gap: 20px;
            transition: all 0.3s ease;
            border: 1px solid #eee;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            border-color: var(--primary-color);
        }
        
        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
        }
        
        .stat-icon.orders { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .stat-icon.revenue { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .stat-icon.customers { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
        .stat-icon.rating { background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); }
        
        /* Dashboard Sections */
        .dashboard-section {
            display: none;
        }
        
        .dashboard-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Cards */
        .card {
            border: none;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            margin-bottom: 25px;
        }
        
        .card-header {
            background: white;
            border-bottom: 1px solid #eee;
            padding: 20px 25px;
            border-radius: 15px 15px 0 0;
        }
        
        /* Tables */
        .table {
            margin: 0;
        }
        
        .table thead {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .table th {
            border: none;
            padding: 15px;
        }
        
        /* Status Badges */
        .status-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .status-pending { background: #fff3cd; color: #856404; }
        .status-confirmed { background: #cce5ff; color: #004085; }
        .status-delivered { background: #d4edda; color: #155724; }
        .status-active { background: #d4edda; color: #155724; }
        
        /* Modals */
        .modal-content {
            border-radius: 15px;
            border: none;
        }
        
        .modal-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px 15px 0 0;
            border: none;
        }
        
        /* Forms */
        .form-section {
            background: white;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        /* Charts */
        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
        }
        
        /* Quick Actions */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .quick-action-btn {
            background: white;
            border-radius: 10px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            cursor: pointer;
            text-decoration: none;
            color: inherit;
            display: block;
        }
        
        .quick-action-btn:hover {
            border-color: var(--primary-color);
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .quick-action-btn i {
            font-size: 40px;
            color: var(--primary-color);
            margin-bottom: 15px;
        }
        
        /* Inventory Cards */
        .inventory-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border-left: 4px solid var(--primary-color);
        }
        
        .inventory-card.low-stock {
            border-left: 4px solid var(--danger-color);
        }
        
        /* Staff Cards */
        .staff-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                height: 70px;
                bottom: 0;
                top: auto;
            }
            
            .main-content {
                margin-left: 0;
                margin-bottom: 70px;
                padding: 15px;
            }
            
            .sidebar-menu {
                display: flex;
                padding: 0;
            }
            
            .sidebar-menu a {
                flex-direction: column;
                font-size: 12px;
                padding: 10px;
                flex: 1;
                border-left: none;
                border-top: 4px solid transparent;
            }
            
            .sidebar-menu a:hover,
            .sidebar-menu a.active {
                border-left: none;
                border-top: 4px solid var(--primary-color);
            }
            
            .menu-badge {
                display: none;
            }
            
            .top-bar {
                flex-direction: column;
                gap: 15px;
            }
            
            .search-box {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Login Page -->
    <div class="login-page" id="loginPage">
        <div class="login-container">
            <div class="login-card">
                <div class="logo">
                    <h2><i class="fas fa-utensils me-2"></i>CulinarySpot</h2>
                    <p>Restaurant Management System</p>
                </div>
                
                <form id="loginForm">
                    <div class="mb-3">
                        <input type="text" class="form-control" id="username" placeholder="Username" required>
                    </div>
                    
                    <div class="mb-3">
                        <input type="password" class="form-control" id="password" placeholder="Password" required>
                    </div>
                    
                    <div class="error-message" id="errorMessage">
                        Invalid username or password!
                    </div>
                    
                    <button type="submit" class="btn btn-login">
                        <i class="fas fa-sign-in-alt me-2"></i>Login to Dashboard
                    </button>
                    
                    <div class="mt-3 text-muted">
                        <small>Default credentials: admin / admin123</small>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Dashboard -->
    <div class="dashboard" id="dashboardPage">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h3><i class="fas fa-utensils me-2"></i>CulinarySpot</h3>
                <p>Admin Dashboard</p>
            </div>
            
            <div class="sidebar-menu">
                <a href="#" class="active" onclick="showSection('dashboard')">
                    <i class="fas fa-chart-line"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#" onclick="showSection('orders')">
                    <i class="fas fa-shopping-cart"></i>
                    <span>Order Management</span>
                    <span class="menu-badge" id="orderCountBadge">0</span>
                </a>
                <a href="#" onclick="showSection('reservations')">
                    <i class="fas fa-calendar-alt"></i>
                    <span>Table Reservations</span>
                    <span class="menu-badge" id="reservationCountBadge">0</span>
                </a>
                <a href="#" onclick="showAddMenuModal()">
                    <i class="fas fa-plus-circle"></i>
                    <span>Add Menu Item</span>
                </a>
                <a href="#" onclick="showSection('menu')">
                    <i class="fas fa-utensils"></i>
                    <span>Menu Management</span>
                    <span class="menu-badge" id="menuCountBadge">0</span>
                </a>
                <a href="#" onclick="showAddStaffModal()">
                    <i class="fas fa-user-plus"></i>
                    <span>Add Staff Member</span>
                </a>
                <a href="#" onclick="showSection('staff')">
                    <i class="fas fa-user-tie"></i>
                    <span>Staff Management</span>
                    <span class="menu-badge" id="staffCountBadge">0</span>
                </a>
                <a href="#" onclick="showSection('customers')">
                    <i class="fas fa-users"></i>
                    <span>Customer Management</span>
                    <span class="menu-badge" id="customerCountBadge">0</span>
                </a>
                <a href="#" onclick="showSection('inventory')">
                    <i class="fas fa-boxes"></i>
                    <span>Inventory Management</span>
                    <span class="menu-badge" id="inventoryCountBadge">0</span>
                </a>
                <a href="#" onclick="showSection('reports')">
                    <i class="fas fa-chart-bar"></i>
                    <span>Reports & Analytics</span>
                </a>
                <a href="#" onclick="showSection('settings')">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </a>
                <a href="#" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </a>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Top Bar -->
            <div class="top-bar">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search..." id="globalSearch" onkeyup="searchData()">
                </div>
                
                <div class="user-profile">
                    <div class="user-avatar" id="userAvatar">
                        A
                    </div>
                    <div>
                        <h5 class="mb-0" id="loggedInUser">Admin User</h5>
                        <small class="text-muted">Restaurant Manager</small>
                    </div>
                    <button class="btn btn-primary btn-sm" onclick="showNotifications()">
                        <i class="fas fa-bell"></i>
                        <span class="badge bg-danger" id="notificationCount">3</span>
                    </button>
                </div>
            </div>

            <!-- Dashboard Section -->
            <section id="dashboard" class="dashboard-section active">
                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon orders">
                            <i class="fas fa-shopping-bag"></i>
                        </div>
                        <div>
                            <h3 id="totalOrders">0</h3>
                            <p class="text-muted">Total Orders</p>
                            <small class="text-success">+12% this month</small>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon revenue">
                            <i class="fas fa-rupee-sign"></i>
                        </div>
                        <div>
                            <h3>₹<span id="totalRevenue">0</span></h3>
                            <p class="text-muted">Total Revenue</p>
                            <small class="text-success">+8% this month</small>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon customers">
                            <i class="fas fa-users"></i>
                        </div>
                        <div>
                            <h3 id="totalCustomers">0</h3>
                            <p class="text-muted">Total Customers</p>
                            <small class="text-success">+5% this month</small>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon rating">
                            <i class="fas fa-star"></i>
                        </div>
                        <div>
                            <h3 id="avgRating">4.8</h3>
                            <p class="text-muted">Average Rating</p>
                            <small>From 256 reviews</small>
                        </div>
                    </div>
                </div>

                <!-- Charts -->
                <div class="row mb-4">
                    <div class="col-lg-6">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0">Revenue Overview</h5>
                            </div>
                            <div class="card-body">
                                <div class="chart-container">
                                    <canvas id="revenueChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0">Order Statistics</h5>
                            </div>
                            <div class="card-body">
                                <div class="chart-container">
                                    <canvas id="orderChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">Quick Actions</h5>
                    </div>
                    <div class="card-body">
                        <div class="quick-actions">
                            <a href="#" class="quick-action-btn" onclick="showSection('orders')">
                                <i class="fas fa-shopping-cart"></i>
                                <h5>New Order</h5>
                                <p>Create new food order</p>
                            </a>
                            <a href="#" class="quick-action-btn" onclick="showAddMenuModal()">
                                <i class="fas fa-utensils"></i>
                                <h5>Add Menu</h5>
                                <p>Add new menu item</p>
                            </a>
                            <a href="#" class="quick-action-btn" onclick="showAddStaffModal()">
                                <i class="fas fa-user-plus"></i>
                                <h5>Add Staff</h5>
                                <p>Add new staff member</p>
                            </a>
                            <a href="#" class="quick-action-btn" onclick="showSection('reports')">
                                <i class="fas fa-chart-bar"></i>
                                <h5>View Reports</h5>
                                <p>Check analytics</p>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Recent Orders -->
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">Recent Orders</h5>
                        <a href="#" class="btn btn-sm btn-primary" onclick="showSection('orders')">View All</a>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Order ID</th>
                                        <th>Customer</th>
                                        <th>Amount</th>
                                        <th>Status</th>
                                        <th>Time</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody id="recentOrdersTable">
                                    <!-- Recent orders will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Orders Section -->
            <section id="orders" class="dashboard-section">
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">Order Management</h5>
                        <button class="btn btn-primary btn-sm" onclick="showNewOrderModal()">
                            <i class="fas fa-plus"></i> New Order
                        </button>
                    </div>
                    <div class="card-body">
                        <div class="row mb-3">
                            <div class="col-md-3">
                                <input type="date" class="form-control" id="orderDateFilter" onchange="filterOrders()">
                            </div>
                            <div class="col-md-3">
                                <select class="form-select" id="orderStatusFilter" onchange="filterOrders()">
                                    <option value="">All Status</option>
                                    <option value="pending">Pending</option>
                                    <option value="confirmed">Confirmed</option>
                                    <option value="preparing">Preparing</option>
                                    <option value="delivered">Delivered</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <select class="form-select" id="orderTypeFilter" onchange="filterOrders()">
                                    <option value="">All Types</option>
                                    <option value="delivery">Delivery</option>
                                    <option value="pickup">Pickup</option>
                                    <option value="dine-in">Dine-in</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <input type="text" class="form-control" placeholder="Search orders..." onkeyup="searchOrders()">
                            </div>
                        </div>
                        
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Order ID</th>
                                        <th>Customer</th>
                                        <th>Items</th>
                                        <th>Amount</th>
                                        <th>Type</th>
                                        <th>Status</th>
                                        <th>Date</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="ordersTable">
                                    <!-- Orders will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Reservations Section -->
            <section id="reservations" class="dashboard-section">
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">Table Reservations</h5>
                        <button class="btn btn-primary btn-sm" onclick="showNewReservationModal()">
                            <i class="fas fa-plus"></i> New Reservation
                        </button>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Booking ID</th>
                                        <th>Customer</th>
                                        <th>Date</th>
                                        <th>Time</th>
                                        <th>Guests</th>
                                        <th>Table</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="reservationsTable">
                                    <!-- Reservations will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Menu Management Section -->
            <section id="menu" class="dashboard-section">
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">Menu Management</h5>
                        <button class="btn btn-primary btn-sm" onclick="showAddMenuModal()">
                            <i class="fas fa-plus"></i> Add Item
                        </button>
                    </div>
                    <div class="card-body">
                        <div class="row mb-3">
                            <div class="col-md-4">
                                <select class="form-select" id="menuCategoryFilter" onchange="filterMenu()">
                                    <option value="">All Categories</option>
                                    <option value="appetizers">Appetizers</option>
                                    <option value="main">Main Course</option>
                                    <option value="desserts">Desserts</option>
                                    <option value="beverages">Beverages</option>
                                </select>
                            </div>
                            <div class="col-md-8">
                                <input type="text" class="form-control" placeholder="Search menu items..." onkeyup="searchMenuItems()">
                            </div>
                        </div>
                        
                        <div class="row" id="menuItemsGrid">
                            <!-- Menu items will be loaded here -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Staff Management Section -->
            <section id="staff" class="dashboard-section">
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">Staff Management</h5>
                        <button class="btn btn-primary btn-sm" onclick="showAddStaffModal()">
                            <i class="fas fa-plus"></i> Add Staff
                        </button>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Staff ID</th>
                                        <th>Name</th>
                                        <th>Position</th>
                                        <th>Email</th>
                                        <th>Phone</th>
                                        <th>Join Date</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="staffTable">
                                    <!-- Staff will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Customer Management Section -->
            <section id="customers" class="dashboard-section">
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">Customer Management</h5>
                        <button class="btn btn-primary btn-sm" onclick="showAddCustomerModal()">
                            <i class="fas fa-plus"></i> Add Customer
                        </button>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Customer ID</th>
                                        <th>Name</th>
                                        <th>Email</th>
                                        <th>Phone</th>
                                        <th>Total Orders</th>
                                        <th>Total Spent</th>
                                        <th>Last Order</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="customersTable">
                                    <!-- Customers will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Inventory Management Section -->
            <section id="inventory" class="dashboard-section">
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">Inventory Management</h5>
                        <button class="btn btn-primary btn-sm" onclick="showAddInventoryModal()">
                            <i class="fas fa-plus"></i> Add Item
                        </button>
                    </div>
                    <div class="card-body">
                        <div class="row mb-3">
                            <div class="col-md-4">
                                <select class="form-select" id="inventoryCategoryFilter" onchange="filterInventory()">
                                    <option value="">All Categories</option>
                                    <option value="vegetables">Vegetables</option>
                                    <option value="meat">Meat</option>
                                    <option value="dairy">Dairy</option>
                                    <option value="grains">Grains</option>
                                </select>
                            </div>
                            <div class="col-md-8">
                                <input type="text" class="form-control" placeholder="Search inventory..." onkeyup="searchInventory()">
                            </div>
                        </div>
                        
                        <div class="row" id="inventoryGrid">
                            <!-- Inventory items will be loaded here -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Reports Section -->
            <section id="reports" class="dashboard-section">
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">Reports & Analytics</h5>
                        <div>
                            <button class="btn btn-primary btn-sm me-2" onclick="generateSalesReport()">
                                <i class="fas fa-file-pdf"></i> Sales Report
                            </button>
                            <button class="btn btn-success btn-sm" onclick="exportReportData()">
                                <i class="fas fa-download"></i> Export Data
                            </button>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="row mb-4">
                            <div class="col-md-3">
                                <label class="form-label">From Date</label>
                                <input type="date" class="form-control" id="reportFromDate">
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">To Date</label>
                                <input type="date" class="form-control" id="reportToDate">
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">Report Type</label>
                                <select class="form-select" id="reportType">
                                    <option value="sales">Sales Report</option>
                                    <option value="orders">Orders Report</option>
                                    <option value="inventory">Inventory Report</option>
                                    <option value="customer">Customer Report</option>
                                </select>
                            </div>
                            <div class="col-md-3 d-flex align-items-end">
                                <button class="btn btn-primary w-100" onclick="generateReport()">
                                    <i class="fas fa-chart-bar"></i> Generate
                                </button>
                            </div>
                        </div>
                        
                        <div class="row mb-4">
                            <div class="col-lg-6">
                                <div class="chart-container">
                                    <canvas id="salesReportChart"></canvas>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="chart-container">
                                    <canvas id="customerReportChart"></canvas>
                                </div>
                            </div>
                        </div>
                        
                        <div id="reportData">
                            <!-- Report data will be displayed here -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settings" class="dashboard-section">
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">Restaurant Settings</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-section">
                                    <h6>Restaurant Information</h6>
                                    <div class="mb-3">
                                        <label class="form-label">Restaurant Name</label>
                                        <input type="text" class="form-control" id="restaurantName" value="CulinarySpot">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Address</label>
                                        <textarea class="form-control" id="restaurantAddress" rows="2">123 Main Street, Mumbai</textarea>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Phone Number</label>
                                        <input type="text" class="form-control" id="restaurantPhone" value="+91 9876543210">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Email</label>
                                        <input type="email" class="form-control" id="restaurantEmail" value="info@culinaryspot.com">
                                    </div>
                                    <button class="btn btn-primary" onclick="saveRestaurantInfo()">
                                        <i class="fas fa-save"></i> Save Information
                                    </button>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-section">
                                    <h6>Business Hours</h6>
                                    <div class="mb-3">
                                        <label class="form-label">Opening Time</label>
                                        <input type="time" class="form-control" id="openingTime" value="11:00">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Closing Time</label>
                                        <input type="time" class="form-control" id="closingTime" value="23:00">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Delivery Hours</label>
                                        <input type="text" class="form-control" id="deliveryHours" value="11:00 AM - 10:30 PM">
                                    </div>
                                    <button class="btn btn-primary" onclick="saveBusinessHours()">
                                        <i class="fas fa-clock"></i> Save Hours
                                    </button>
                                </div>
                                
                                <div class="form-section mt-3">
                                    <h6>Delivery Settings</h6>
                                    <div class="mb-3">
                                        <label class="form-label">Delivery Charge (₹)</label>
                                        <input type="number" class="form-control" id="deliveryCharge" value="40">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Minimum Order (₹)</label>
                                        <input type="number" class="form-control" id="minimumOrder" value="100">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Tax Rate (%)</label>
                                        <input type="number" class="form-control" id="taxRate" value="5">
                                    </div>
                                    <button class="btn btn-primary" onclick="saveDeliverySettings()">
                                        <i class="fas fa-truck"></i> Save Delivery Settings
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Add Menu Item Modal -->
    <div class="modal fade" id="addMenuModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title text-white">Add New Menu Item</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="menuForm">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Item Name *</label>
                                <input type="text" class="form-control" id="itemName" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Category *</label>
                                <select class="form-select" id="itemCategory" required>
                                    <option value="">Select Category</option>
                                    <option value="appetizers">Appetizers</option>
                                    <option value="main">Main Course</option>
                                    <option value="desserts">Desserts</option>
                                    <option value="beverages">Beverages</option>
                                    <option value="soups">Soups</option>
                                    <option value="salads">Salads</option>
                                </select>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Description</label>
                            <textarea class="form-control" id="itemDescription" rows="2" placeholder="Brief description of the item..."></textarea>
                        </div>
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <label class="form-label">Price (₹) *</label>
                                <input type="number" class="form-control" id="itemPrice" step="0.01" required>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label class="form-label">Cost Price (₹)</label>
                                <input type="number" class="form-control" id="itemCostPrice" step="0.01">
                            </div>
                            <div class="col-md-4 mb-3">
                                <label class="form-label">Preparation Time (mins)</label>
                                <input type="number" class="form-control" id="itemPrepTime" value="15">
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Ingredients</label>
                            <textarea class="form-control" id="itemIngredients" rows="2" placeholder="List main ingredients..."></textarea>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Image URL</label>
                            <input type="text" class="form-control" id="itemImage" placeholder="https://example.com/image.jpg">
                            <small class="text-muted">Leave empty for default image</small>
                        </div>
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="itemAvailable" checked>
                            <label class="form-check-label" for="itemAvailable">
                                Available for order
                            </label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="saveMenuItem()">
                        <i class="fas fa-save"></i> Save Menu Item
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Staff Modal -->
    <div class="modal fade" id="addStaffModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title text-white">Add New Staff Member</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="staffForm">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">First Name *</label>
                                <input type="text" class="form-control" id="staffFirstName" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Last Name *</label>
                                <input type="text" class="form-control" id="staffLastName" required>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Position *</label>
                            <select class="form-select" id="staffPosition" required>
                                <option value="">Select Position</option>
                                <option value="chef">Chef</option>
                                <option value="assistant_chef">Assistant Chef</option>
                                <option value="manager">Manager</option>
                                <option value="supervisor">Supervisor</option>
                                <option value="waiter">Waiter</option>
                                <option value="cashier">Cashier</option>
                                <option value="cleaner">Cleaner</option>
                                <option value="delivery">Delivery Person</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Email Address *</label>
                            <input type="email" class="form-control" id="staffEmail" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Phone Number *</label>
                            <input type="tel" class="form-control" id="staffPhone" required>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Salary (₹)</label>
                                <input type="number" class="form-control" id="staffSalary" step="0.01">
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Join Date</label>
                                <input type="date" class="form-control" id="staffJoinDate">
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Address</label>
                            <textarea class="form-control" id="staffAddress" rows="2"></textarea>
                        </div>
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="staffActive" checked>
                            <label class="form-check-label" for="staffActive">
                                Active Status
                            </label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="saveStaffMember()">
                        <i class="fas fa-save"></i> Add Staff Member
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // ====================
        // AUTHENTICATION
        // ====================
        const VALID_CREDENTIALS = {
            username: "admin",
            password: "admin123"
        };

        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value;
            const errorMessage = document.getElementById('errorMessage');
            
            if (username === VALID_CREDENTIALS.username && password === VALID_CREDENTIALS.password) {
                // Successful login
                localStorage.setItem('isLoggedIn', 'true');
                localStorage.setItem('username', username);
                localStorage.setItem('loginTime', new Date().toISOString());
                
                document.getElementById('loginPage').style.display = 'none';
                document.getElementById('dashboardPage').style.display = 'block';
                
                // Initialize dashboard
                initializeDashboard();
                loadDashboardData();
                updateUserInfo();
                
                // Clear form
                document.getElementById('username').value = '';
                document.getElementById('password').value = '';
                errorMessage.style.display = 'none';
            } else {
                // Failed login
                errorMessage.style.display = 'block';
                document.getElementById('password').value = '';
                document.getElementById('password').focus();
            }
        });

        function checkLoginStatus() {
            const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
            if (isLoggedIn) {
                document.getElementById('loginPage').style.display = 'none';
                document.getElementById('dashboardPage').style.display = 'block';
                initializeDashboard();
                loadDashboardData();
                updateUserInfo();
            }
        }

        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                // Clear all session data
                localStorage.removeItem('isLoggedIn');
                localStorage.removeItem('username');
                localStorage.removeItem('loginTime');
                
                // Show login page
                document.getElementById('dashboardPage').style.display = 'none';
                document.getElementById('loginPage').style.display = 'flex';
                
                // Clear form
                document.getElementById('username').value = '';
                document.getElementById('password').value = '';
                document.getElementById('errorMessage').style.display = 'none';
                
                // Focus on username field
                setTimeout(() => {
                    document.getElementById('username').focus();
                }, 100);
            }
        }

        function updateUserInfo() {
            const username = localStorage.getItem('username') || 'Admin';
            document.getElementById('loggedInUser').textContent = username;
            document.getElementById('userAvatar').textContent = username.charAt(0).toUpperCase();
        }

        // ====================
        // DASHBOARD INITIALIZATION
        // ====================
        function initializeDashboard() {
            // Initialize sample data if not exists
            if (!localStorage.getItem('restaurant_orders')) {
                initializeSampleData();
            }
            
            // Initialize charts
            initializeCharts();
            
            // Set up date filters
            setupDateFilters();
        }

        function initializeSampleData() {
            const sampleData = {
                orders: [
                    {
                        id: 'ORD001',
                        customerName: 'John Doe',
                        customerPhone: '9876543210',
                        items: [
                            {name: 'Butter Chicken', quantity: 2, price: 299},
                            {name: 'Garlic Naan', quantity: 4, price: 40}
                        ],
                        total: 598 + 160,
                        type: 'delivery',
                        status: 'pending',
                        date: new Date().toLocaleString(),
                        address: '123 Main Street, Mumbai'
                    },
                    {
                        id: 'ORD002',
                        customerName: 'Jane Smith',
                        customerPhone: '9876543211',
                        items: [
                            {name: 'Paneer Butter Masala', quantity: 1, price: 249},
                            {name: 'Jeera Rice', quantity: 2, price: 120}
                        ],
                        total: 249 + 240,
                        type: 'pickup',
                        status: 'confirmed',
                        date: new Date(Date.now() - 3600000).toLocaleString(),
                        address: '456 Park Avenue, Mumbai'
                    }
                ],
                reservations: [
                    {
                        id: 'RES001',
                        customerName: 'Robert Johnson',
                        customerPhone: '9876543212',
                        date: new Date().toISOString().split('T')[0],
                        time: '19:00',
                        guests: 4,
                        table: 'T5',
                        status: 'confirmed',
                        specialRequests: 'Window seat preferred'
                    }
                ],
                menu: [
                    {
                        id: 1,
                        name: 'Butter Chicken',
                        description: 'Creamy tomato curry with tender chicken pieces',
                        price: 299,
                        category: 'main',
                        ingredients: 'Chicken, Tomatoes, Cream, Butter, Spices',
                        prepTime: 20,
                        available: true,
                        image: 'https://images.unsplash.com/photo-1603894584373-5ac82b2ae398?w=300&h=200&fit=crop'
                    },
                    {
                        id: 2,
                        name: 'Paneer Tikka',
                        description: 'Grilled cottage cheese with Indian spices',
                        price: 249,
                        category: 'appetizers',
                        ingredients: 'Paneer, Bell Peppers, Spices, Yogurt',
                        prepTime: 15,
                        available: true,
                        image: 'https://images.unsplash.com/photo-1565557623262-b51c2513a641?w=300&h=200&fit=crop'
                    }
                ],
                staff: [
                    {
                        id: 1,
                        firstName: 'Rajesh',
                        lastName: 'Kumar',
                        fullName: 'Rajesh Kumar',
                        position: 'chef',
                        email: 'rajesh@culinaryspot.com',
                        phone: '9876543211',
                        salary: 35000,
                        joinDate: '2023-01-15',
                        address: 'Mumbai',
                        active: true
                    },
                    {
                        id: 2,
                        firstName: 'Priya',
                        lastName: 'Sharma',
                        fullName: 'Priya Sharma',
                        position: 'manager',
                        email: 'priya@culinaryspot.com',
                        phone: '9876543212',
                        salary: 45000,
                        joinDate: '2023-02-20',
                        address: 'Mumbai',
                        active: true
                    }
                ],
                customers: [
                    {
                        id: 1,
                        name: 'John Doe',
                        email: 'john@example.com',
                        phone: '9876543210',
                        address: '123 Main Street, Mumbai',
                        totalOrders: 5,
                        totalSpent: 2500,
                        lastOrder: new Date().toISOString().split('T')[0]
                    },
                    {
                        id: 2,
                        name: 'Jane Smith',
                        email: 'jane@example.com',
                        phone: '9876543211',
                        address: '456 Park Avenue, Mumbai',
                        totalOrders: 3,
                        totalSpent: 1200,
                        lastOrder: new Date(Date.now() - 86400000).toISOString().split('T')[0]
                    }
                ],
                inventory: [
                    {
                        id: 1,
                        name: 'Chicken',
                        category: 'meat',
                        quantity: 50,
                        unit: 'kg',
                        minQuantity: 10,
                        costPerUnit: 200,
                        supplier: 'Fresh Meat Suppliers',
                        lastRestocked: '2024-01-15'
                    },
                    {
                        id: 2,
                        name: 'Rice',
                        category: 'grains',
                        quantity: 100,
                        unit: 'kg',
                        minQuantity: 20,
                        costPerUnit: 60,
                        supplier: 'Grain World',
                        lastRestocked: '2024-01-10'
                    }
                ]
            };
            
            // Save to localStorage
            localStorage.setItem('restaurant_orders', JSON.stringify(sampleData.orders));
            localStorage.setItem('restaurant_reservations', JSON.stringify(sampleData.reservations));
            localStorage.setItem('restaurant_menu', JSON.stringify(sampleData.menu));
            localStorage.setItem('restaurant_staff', JSON.stringify(sampleData.staff));
            localStorage.setItem('restaurant_customers', JSON.stringify(sampleData.customers));
            localStorage.setItem('restaurant_inventory', JSON.stringify(sampleData.inventory));
            
            // Initialize settings
            if (!localStorage.getItem('restaurant_settings')) {
                const settings = {
                    name: 'CulinarySpot',
                    address: '123 Main Street, Mumbai',
                    phone: '+91 9876543210',
                    email: 'info@culinaryspot.com',
                    openingTime: '11:00',
                    closingTime: '23:00',
                    deliveryHours: '11:00 AM - 10:30 PM',
                    deliveryCharge: 40,
                    minimumOrder: 100,
                    taxRate: 5
                };
                localStorage.setItem('restaurant_settings', JSON.stringify(settings));
            }
        }

        function setupDateFilters() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('orderDateFilter').value = today;
            
            // Set report dates (last 30 days)
            const fromDate = new Date();
            fromDate.setDate(fromDate.getDate() - 30);
            document.getElementById('reportFromDate').value = fromDate.toISOString().split('T')[0];
            document.getElementById('reportToDate').value = today;
        }

        // ====================
        // DASHBOARD DATA LOADING
        // ====================
        function loadDashboardData() {
            const orders = getOrders();
            const customers = getCustomers();
            const menu = getMenuItems();
            const staff = getStaff();
            const inventory = getInventory();
            
            // Update stats
            document.getElementById('totalOrders').textContent = orders.length;
            document.getElementById('orderCountBadge').textContent = orders.length;
            document.getElementById('totalRevenue').textContent = orders.reduce((sum, order) => sum + order.total, 0);
            document.getElementById('totalCustomers').textContent = customers.length;
            document.getElementById('customerCountBadge').textContent = customers.length;
            document.getElementById('menuCountBadge').textContent = menu.length;
            document.getElementById('staffCountBadge').textContent = staff.length;
            document.getElementById('inventoryCountBadge').textContent = inventory.length;
            document.getElementById('reservationCountBadge').textContent = getReservations().length;
            
            // Load recent orders
            loadRecentOrders(orders.slice(0, 5));
            
            // Update notification count
            const pendingOrders = orders.filter(order => order.status === 'pending').length;
            document.getElementById('notificationCount').textContent = pendingOrders;
        }

        function loadRecentOrders(orders) {
            const tableBody = document.getElementById('recentOrdersTable');
            tableBody.innerHTML = '';
            
            if (orders.length === 0) {
                tableBody.innerHTML = `
                    <tr>
                        <td colspan="6" class="text-center py-3 text-muted">
                            No recent orders found
                        </td>
                    </tr>
                `;
                return;
            }
            
            orders.forEach(order => {
                const time = new Date(order.date).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${order.id}</td>
                    <td>${order.customerName}</td>
                    <td>₹${order.total}</td>
                    <td><span class="status-badge status-${order.status}">${order.status}</span></td>
                    <td>${time}</td>
                    <td>
                        <button class="btn btn-sm btn-outline-primary" onclick="viewOrderDetails('${order.id}')">
                            <i class="fas fa-eye"></i>
                        </button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // ====================
        // NAVIGATION
        // ====================
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.dashboard-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Update sidebar active state
            document.querySelectorAll('.sidebar-menu a').forEach(link => {
                link.classList.remove('active');
            });
            
            // Activate clicked link
            const clickedLink = event.target.closest('a');
            if (clickedLink) {
                clickedLink.classList.add('active');
            }
            
            // Show selected section
            document.getElementById(sectionId).classList.add('active');
            
            // Load section data
            switch(sectionId) {
                case 'orders':
                    loadOrdersTable();
                    break;
                case 'reservations':
                    loadReservationsTable();
                    break;
                case 'menu':
                    loadMenuItems();
                    break;
                case 'staff':
                    loadStaffTable();
                    break;
                case 'customers':
                    loadCustomersTable();
                    break;
                case 'inventory':
                    loadInventoryGrid();
                    break;
                case 'reports':
                    updateCharts();
                    break;
                case 'settings':
                    loadSettings();
                    break;
            }
        }

        // ====================
        // ORDERS MANAGEMENT
        // ====================
        function loadOrdersTable() {
            const orders = getOrders();
            const tableBody = document.getElementById('ordersTable');
            tableBody.innerHTML = '';
            
            if (orders.length === 0) {
                tableBody.innerHTML = `
                    <tr>
                        <td colspan="8" class="text-center py-4 text-muted">
                            <i class="fas fa-shopping-cart fa-2x mb-2"></i>
                            <p>No orders found</p>
                        </td>
                    </tr>
                `;
                return;
            }
            
            orders.forEach(order => {
                const date = new Date(order.date).toLocaleDateString();
                const itemsCount = order.items.reduce((sum, item) => sum + item.quantity, 0);
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${order.id}</td>
                    <td>${order.customerName}</td>
                    <td>${itemsCount} items</td>
                    <td>₹${order.total}</td>
                    <td>${order.type}</td>
                    <td><span class="status-badge status-${order.status}">${order.status}</span></td>
                    <td>${date}</td>
                    <td>
                        <button class="btn btn-sm btn-outline-primary me-1" onclick="viewOrderDetails('${order.id}')" title="View">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-success me-1" onclick="updateOrderStatus('${order.id}', 'confirmed')" title="Confirm">
                            <i class="fas fa-check"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-danger" onclick="cancelOrder('${order.id}')" title="Cancel">
                            <i class="fas fa-times"></i>
                        </button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        function filterOrders() {
            // Filtering logic here
            console.log('Filtering orders...');
            loadOrdersTable();
        }

        function searchOrders() {
            // Search logic here
            console.log('Searching orders...');
        }

        function viewOrderDetails(orderId) {
            const orders = getOrders();
            const order = orders.find(o => o.id === orderId);
            
            if (order) {
                let itemsList = '';
                order.items.forEach(item => {
                    itemsList += `${item.name} x ${item.quantity} = ₹${item.price * item.quantity}\n`;
                });
                
                alert(`📋 Order Details:\n\n` +
                      `Order ID: ${order.id}\n` +
                      `Customer: ${order.customerName}\n` +
                      `Phone: ${order.customerPhone}\n` +
                      `Address: ${order.address || 'N/A'}\n` +
                      `Type: ${order.type}\n` +
                      `Status: ${order.status}\n` +
                      `Total: ₹${order.total}\n\n` +
                      `Items:\n${itemsList}\n` +
                      `Date: ${order.date}`);
            }
        }

        function updateOrderStatus(orderId, status) {
            let orders = getOrders();
            const orderIndex = orders.findIndex(o => o.id === orderId);
            
            if (orderIndex !== -1) {
                orders[orderIndex].status = status;
                localStorage.setItem('restaurant_orders', JSON.stringify(orders));
                loadOrdersTable();
                loadDashboardData();
                alert(`✅ Order ${orderId} status updated to ${status}`);
            }
        }

        function cancelOrder(orderId) {
            if (confirm(`Are you sure you want to cancel order ${orderId}?`)) {
                updateOrderStatus(orderId, 'cancelled');
            }
        }

        // ====================
        // RESERVATIONS MANAGEMENT
        // ====================
        function loadReservationsTable() {
            const reservations = getReservations();
            const tableBody = document.getElementById('reservationsTable');
            tableBody.innerHTML = '';
            
            reservations.forEach(reservation => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${reservation.id}</td>
                    <td>${reservation.customerName}</td>
                    <td>${reservation.date}</td>
                    <td>${reservation.time}</td>
                    <td>${reservation.guests}</td>
                    <td>${reservation.table}</td>
                    <td><span class="status-badge status-${reservation.status}">${reservation.status}</span></td>
                    <td>
                        <button class="btn btn-sm btn-outline-primary">Edit</button>
                        <button class="btn btn-sm btn-outline-danger">Cancel</button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // ====================
        // MENU MANAGEMENT
        // ====================
        function showAddMenuModal() {
            const modal = new bootstrap.Modal(document.getElementById('addMenuModal'));
            document.getElementById('menuForm').reset();
            document.getElementById('itemAvailable').checked = true;
            modal.show();
        }

        function saveMenuItem() {
            const item = {
                id: Date.now(),
                name: document.getElementById('itemName').value.trim(),
                description: document.getElementById('itemDescription').value.trim(),
                price: parseFloat(document.getElementById('itemPrice').value) || 0,
                costPrice: parseFloat(document.getElementById('itemCostPrice').value) || 0,
                category: document.getElementById('itemCategory').value,
                ingredients: document.getElementById('itemIngredients').value.trim(),
                prepTime: parseInt(document.getElementById('itemPrepTime').value) || 15,
                image: document.getElementById('itemImage').value.trim() || 
                       'https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=300&h=200&fit=crop',
                available: document.getElementById('itemAvailable').checked,
                createdAt: new Date().toISOString()
            };
            
            // Validation
            if (!item.name || !item.category || item.price <= 0) {
                alert('Please fill all required fields with valid values!');
                return;
            }
            
            // Save to localStorage
            let menuItems = getMenuItems();
            menuItems.push(item);
            localStorage.setItem('restaurant_menu', JSON.stringify(menuItems));
            
            // Close modal
            bootstrap.Modal.getInstance(document.getElementById('addMenuModal')).hide();
            
            // Show success message
            alert(`✅ Menu item "${item.name}" added successfully!`);
            
            // Update dashboard data
            loadDashboardData();
            
            // Reload menu items if on menu section
            if (document.getElementById('menu').classList.contains('active')) {
                loadMenuItems();
            }
        }

        function loadMenuItems() {
            const menuItems = getMenuItems();
            const grid = document.getElementById('menuItemsGrid');
            grid.innerHTML = '';
            
            if (menuItems.length === 0) {
                grid.innerHTML = `
                    <div class="col-12 text-center py-5 text-muted">
                        <i class="fas fa-utensils fa-3x mb-3"></i>
                        <p>No menu items found</p>
                        <button class="btn btn-primary" onclick="showAddMenuModal()">
                            <i class="fas fa-plus"></i> Add Your First Item
                        </button>
                    </div>
                `;
                return;
            }
            
            menuItems.forEach(item => {
                const col = document.createElement('div');
                col.className = 'col-md-4 mb-3';
                col.innerHTML = `
                    <div class="card h-100">
                        <img src="${item.image}" class="card-img-top" alt="${item.name}" style="height: 150px; object-fit: cover;">
                        <div class="card-body">
                            <h5 class="card-title">${item.name}</h5>
                            <p class="card-text text-muted small">${item.description}</p>
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                <span class="badge bg-info">${item.category}</span>
                                <span class="fw-bold">₹${item.price}</span>
                            </div>
                            <div class="d-flex gap-2">
                                <button class="btn btn-sm btn-outline-warning" onclick="editMenuItem(${item.id})">Edit</button>
                                <button class="btn btn-sm btn-outline-danger" onclick="deleteMenuItem(${item.id})">Delete</button>
                            </div>
                        </div>
                    </div>
                `;
                grid.appendChild(col);
            });
        }

        function filterMenu() {
            console.log('Filtering menu...');
        }

        function searchMenuItems() {
            console.log('Searching menu items...');
        }

        // ====================
        // STAFF MANAGEMENT
        // ====================
        function showAddStaffModal() {
            const modal = new bootstrap.Modal(document.getElementById('addStaffModal'));
            document.getElementById('staffForm').reset();
            document.getElementById('staffActive').checked = true;
            document.getElementById('staffJoinDate').value = new Date().toISOString().split('T')[0];
            modal.show();
        }

        function saveStaffMember() {
            const staff = {
                id: Date.now(),
                firstName: document.getElementById('staffFirstName').value.trim(),
                lastName: document.getElementById('staffLastName').value.trim(),
                fullName: document.getElementById('staffFirstName').value.trim() + ' ' + 
                          document.getElementById('staffLastName').value.trim(),
                position: document.getElementById('staffPosition').value,
                email: document.getElementById('staffEmail').value.trim(),
                phone: document.getElementById('staffPhone').value.trim(),
                salary: parseFloat(document.getElementById('staffSalary').value) || 0,
                joinDate: document.getElementById('staffJoinDate').value || new Date().toISOString().split('T')[0],
                address: document.getElementById('staffAddress').value.trim(),
                active: document.getElementById('staffActive').checked
            };
            
            // Validation
            if (!staff.firstName || !staff.lastName || !staff.position || !staff.email || !staff.phone) {
                alert('Please fill all required fields!');
                return;
            }
            
            // Save to localStorage
            let staffMembers = getStaff();
            staffMembers.push(staff);
            localStorage.setItem('restaurant_staff', JSON.stringify(staffMembers));
            
            // Close modal
            bootstrap.Modal.getInstance(document.getElementById('addStaffModal')).hide();
            
            // Show success message
            alert(`✅ Staff member "${staff.fullName}" added successfully!`);
            
            // Update dashboard data
            loadDashboardData();
            
            // Reload staff table if on staff section
            if (document.getElementById('staff').classList.contains('active')) {
                loadStaffTable();
            }
        }

        function loadStaffTable() {
            const staff = getStaff();
            const tableBody = document.getElementById('staffTable');
            tableBody.innerHTML = '';
            
            staff.forEach(member => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>STF${member.id.toString().padStart(3, '0')}</td>
                    <td>${member.fullName}</td>
                    <td>${member.position.charAt(0).toUpperCase() + member.position.slice(1).replace('_', ' ')}</td>
                    <td>${member.email}</td>
                    <td>${member.phone}</td>
                    <td>${member.joinDate}</td>
                    <td><span class="status-badge ${member.active ? 'status-active' : 'status-pending'}">${member.active ? 'Active' : 'Inactive'}</span></td>
                    <td>
                        <button class="btn btn-sm btn-outline-primary me-1">Edit</button>
                        <button class="btn btn-sm btn-outline-danger">Remove</button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // ====================
        // CUSTOMER MANAGEMENT
        // ====================
        function loadCustomersTable() {
            const customers = getCustomers();
            const tableBody = document.getElementById('customersTable');
            tableBody.innerHTML = '';
            
            customers.forEach(customer => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>CUST${customer.id.toString().padStart(3, '0')}</td>
                    <td>${customer.name}</td>
                    <td>${customer.email}</td>
                    <td>${customer.phone}</td>
                    <td>${customer.totalOrders}</td>
                    <td>₹${customer.totalSpent}</td>
                    <td>${customer.lastOrder}</td>
                    <td>
                        <button class="btn btn-sm btn-outline-primary">View</button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // ====================
        // INVENTORY MANAGEMENT
        // ====================
        function loadInventoryGrid() {
            const inventory = getInventory();
            const grid = document.getElementById('inventoryGrid');
            grid.innerHTML = '';
            
            inventory.forEach(item => {
                const stockLevel = item.quantity <= item.minQuantity ? 'Low' : 
                                 item.quantity <= item.minQuantity * 2 ? 'Medium' : 'High';
                const stockClass = stockLevel.toLowerCase();
                const isLowStock = stockLevel === 'Low';
                
                const col = document.createElement('div');
                col.className = 'col-md-4 mb-3';
                col.innerHTML = `
                    <div class="inventory-card ${isLowStock ? 'low-stock' : ''}">
                        <h5>${item.name}</h5>
                        <p class="text-muted small">${item.category} • Supplier: ${item.supplier}</p>
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <span>Stock: ${item.quantity} ${item.unit}</span>
                            <span class="badge bg-${stockClass === 'low' ? 'danger' : stockClass === 'medium' ? 'warning' : 'success'}">
                                ${stockLevel} Stock
                            </span>
                        </div>
                        <div class="d-flex justify-content-between text-muted small mb-3">
                            <span>Min: ${item.minQuantity} ${item.unit}</span>
                            <span>Cost: ₹${item.costPerUnit}/${item.unit}</span>
                        </div>
                        <div class="d-flex gap-2">
                            <button class="btn btn-sm btn-outline-primary" onclick="updateStock(${item.id})">Update</button>
                            <button class="btn btn-sm btn-outline-warning" onclick="editInventory(${item.id})">Edit</button>
                        </div>
                    </div>
                `;
                grid.appendChild(col);
            });
        }

        // ====================
        // REPORTS & ANALYTICS
        // ====================
        function initializeCharts() {
            // Revenue Chart
            const revenueCtx = document.getElementById('revenueChart').getContext('2d');
            window.revenueChart = new Chart(revenueCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Revenue',
                        data: [50000, 75000, 60000, 90000, 120000, 150000],
                        borderColor: '#667eea',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false }
                    }
                }
            });

            // Order Chart
            const orderCtx = document.getElementById('orderChart').getContext('2d');
            window.orderChart = new Chart(orderCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Pending', 'Confirmed', 'Preparing', 'Delivered'],
                    datasets: [{
                        data: [5, 12, 8, 25],
                        backgroundColor: ['#fff3cd', '#cce5ff', '#fff4cd', '#d4edda'],
                        borderColor: '#fff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'right' }
                    }
                }
            });

            // Sales Report Chart
            const salesCtx = document.getElementById('salesReportChart').getContext('2d');
            window.salesReportChart = new Chart(salesCtx, {
                type: 'bar',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Sales',
                        data: [50000, 75000, 60000, 90000, 120000, 150000],
                        backgroundColor: '#764ba2'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false
                }
            });

            // Customer Report Chart
            const customerCtx = document.getElementById('customerReportChart').getContext('2d');
            window.customerReportChart = new Chart(customerCtx, {
                type: 'pie',
                data: {
                    labels: ['New', 'Returning', 'VIP'],
                    datasets: [{
                        data: [40, 50, 10],
                        backgroundColor: ['#667eea', '#764ba2', '#f093fb']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false
                }
            });
        }

        function updateCharts() {
            // Update chart data based on real data
            console.log('Charts updated');
        }

        function generateReport() {
            alert('📊 Report generation feature coming soon!');
        }

        function generateSalesReport() {
            alert('📈 Sales report generated!');
        }

        function exportReportData() {
            alert('📥 Exporting report data...');
        }

        // ====================
        // SETTINGS
        // ====================
        function loadSettings() {
            const settings = JSON.parse(localStorage.getItem('restaurant_settings') || '{}');
            
            if (settings.name) document.getElementById('restaurantName').value = settings.name;
            if (settings.address) document.getElementById('restaurantAddress').value = settings.address;
            if (settings.phone) document.getElementById('restaurantPhone').value = settings.phone;
            if (settings.email) document.getElementById('restaurantEmail').value = settings.email;
            if (settings.openingTime) document.getElementById('openingTime').value = settings.openingTime;
            if (settings.closingTime) document.getElementById('closingTime').value = settings.closingTime;
            if (settings.deliveryHours) document.getElementById('deliveryHours').value = settings.deliveryHours;
            if (settings.deliveryCharge) document.getElementById('deliveryCharge').value = settings.deliveryCharge;
            if (settings.minimumOrder) document.getElementById('minimumOrder').value = settings.minimumOrder;
            if (settings.taxRate) document.getElementById('taxRate').value = settings.taxRate;
        }

        function saveRestaurantInfo() {
            const settings = JSON.parse(localStorage.getItem('restaurant_settings') || '{}');
            
            settings.name = document.getElementById('restaurantName').value;
            settings.address = document.getElementById('restaurantAddress').value;
            settings.phone = document.getElementById('restaurantPhone').value;
            settings.email = document.getElementById('restaurantEmail').value;
            
            localStorage.setItem('restaurant_settings', JSON.stringify(settings));
            alert('✅ Restaurant information saved successfully!');
        }

        function saveBusinessHours() {
            const settings = JSON.parse(localStorage.getItem('restaurant_settings') || '{}');
            
            settings.openingTime = document.getElementById('openingTime').value;
            settings.closingTime = document.getElementById('closingTime').value;
            settings.deliveryHours = document.getElementById('deliveryHours').value;
            
            localStorage.setItem('restaurant_settings', JSON.stringify(settings));
            alert('✅ Business hours saved successfully!');
        }

        function saveDeliverySettings() {
            const settings = JSON.parse(localStorage.getItem('restaurant_settings') || '{}');
            
            settings.deliveryCharge = parseFloat(document.getElementById('deliveryCharge').value) || 0;
            settings.minimumOrder = parseFloat(document.getElementById('minimumOrder').value) || 0;
            settings.taxRate = parseFloat(document.getElementById('taxRate').value) || 0;
            
            localStorage.setItem('restaurant_settings', JSON.stringify(settings));
            alert('✅ Delivery settings saved successfully!');
        }

        // ====================
        // UTILITY FUNCTIONS
        // ====================
        function getOrders() {
            return JSON.parse(localStorage.getItem('restaurant_orders') || '[]');
        }

        function getReservations() {
            return JSON.parse(localStorage.getItem('restaurant_reservations') || '[]');
        }

        function getMenuItems() {
            return JSON.parse(localStorage.getItem('restaurant_menu') || '[]');
        }

        function getStaff() {
            return JSON.parse(localStorage.getItem('restaurant_staff') || '[]');
        }

        function getCustomers() {
            return JSON.parse(localStorage.getItem('restaurant_customers') || '[]');
        }

        function getInventory() {
            return JSON.parse(localStorage.getItem('restaurant_inventory') || '[]');
        }

        function searchData() {
            const searchTerm = document.getElementById('globalSearch').value.toLowerCase();
            console.log('Searching for:', searchTerm);
        }

        function showNotifications() {
            const pendingOrders = getOrders().filter(order => order.status === 'pending').length;
            if (pendingOrders > 0) {
                alert(`🔔 You have ${pendingOrders} pending orders!`);
            } else {
                alert('🔕 No new notifications');
            }
        }

        // ====================
        // ADDITIONAL FEATURES
        // ====================
        function showNewOrderModal() {
            alert('➕ New Order Modal - Coming Soon!');
        }

        function showNewReservationModal() {
            alert('📅 New Reservation Modal - Coming Soon!');
        }

        function showAddCustomerModal() {
            alert('👥 Add Customer Modal - Coming Soon!');
        }

        function showAddInventoryModal() {
            alert('📦 Add Inventory Modal - Coming Soon!');
        }

        // ====================
        // INITIAL LOAD
        // ====================
        document.addEventListener('DOMContentLoaded', function() {
            checkLoginStatus();
            
            // Auto-focus username field on login page
            if (document.getElementById('loginPage').style.display !== 'none') {
                document.getElementById('username').focus();
            }
            
            // Add Enter key support for login
            document.getElementById('password').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    document.getElementById('loginForm').submit();
                }
            });
        });
    </script>
</body>
</html>